[package]
name = "dash-chat"
version = "0.5.0"
description = "Dash Chat"
authors = ["you"]
license = ""
repository = ""
edition = "2021"
rust-version = "1.70"

[lib]
name = "tauri_app_lib"
crate-type = ["staticlib", "cdylib", "rlib"]

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[build-dependencies]
tauri-build = { version = "2.4.0", default-features = false , features = [] }

[dependencies]
tauri = { version = "2.8", features = ["devtools"] }

anyhow = "1.0.95"
async-trait = "0.1.85"
p2panda-core = "0.3.1"
p2panda-discovery = { version = "0.3.1", features = ["mdns"] }
p2panda-net = "0.3.1"
p2panda-store = "0.3.1"
p2panda-stream = "0.3.1"
p2panda-sync = { version = "0.3.1", features = ["log-sync"] }
tokio = { version = "1.43.0", features = ["fs"] }
hex = "0.4.3"

image = "0.25"

tauri-plugin-notification = { git = "https://github.com/guillemcordoba/plugins-workspace", branch = "push-notifications", features = ["push-notifications-fcm"] }
tauri-plugin-dialog = "2.3"
tauri-plugin-process = "2.3"
tauri-plugin-safe-area-insets-css = { git = "https://github.com/guillemcordoba/tauri-plugin-safe-area-insets-css" }

tauri-plugin-single-instance = { version = "2", features = ["deep-link"] }
tauri-plugin-deep-link = "2"

opener = { version = "0.7", features = ["reveal"] }
log = "0.4"
tauri-plugin-log = "2.0.0"
url2 = "0.0.6"
app_dirs2 = "2.5.5"
tempdir = "0.3.7"
uuid = "1"
serde = "1"
serde_json = "1"
jni = "0.21"
ndk-context = "0.1"

# Work around "hyper-tls" not found issue in nix build tauri app
# TODO: remove this dependency
hyper-tls = "0.6"

# Logging
libc = "0.2"
env_logger = "0.11"

[target.'cfg(any(target_os = "android", target_os = "ios"))'.dependencies]
tauri-plugin-barcode-scanner = "2.4"
ndk-sys = "0.6"

[target."cfg(not(any(target_os = \"android\", target_os = \"ios\")))".dependencies]
tauri-plugin-updater = "2.9"

[dev-dependencies]
tokio = { version = "1", features = [ "full" ] } 
